(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{241:function(e,t,o){var content=o(296);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(37).default)("809c6fae",content,!0,{sourceMap:!1})},295:function(e,t,o){"use strict";var n=o(241);o.n(n).a},296:function(e,t,o){(t=o(36)(!1)).push([e.i,".mission-wrap[data-v-ced9e36e]{width:95vw;height:95vh;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}#login[data-v-ced9e36e]{margin:50px auto;width:360px}#login .login-group[data-v-ced9e36e]{margin:auto;padding:22px;width:100%;border-radius:5px;background:#282e33;border-top:3px solid #434a52;border-bottom:3px solid #434a52}.rolesList[data-v-ced9e36e]{display:-webkit-box;display:flex;margin:0 0 0 auto;width:40%}.rolesItem[data-v-ced9e36e]{width:50%;background-color:#3b4148;color:#606468;margin-bottom:.8em;height:30px;border:none;font-family:Open Sans,Arial,sans-serif;font-size:16px;line-height:30px;text-align:center;-webkit-appearance:none}.chosesRoles[data-v-ced9e36e]{width:100%;cursor:pointer}.playerStyle[data-v-ced9e36e]{border-radius:3px 0 0 3px;border-right:3px solid #434a52}.adminStyle[data-v-ced9e36e]{border-radius:0 3px 3px 0}.choses-active[data-v-ced9e36e]{background-color:#363b41;color:#a9a9a9}.loginInput[data-v-ced9e36e]{width:80%;background-color:#3b4148;border-radius:0 3px 3px 0;color:#a9a9a9;margin-bottom:1em;padding:0 16px;height:50px;border:none;font-family:Open Sans,Arial,sans-serif;font-size:16px;line-height:1.5em;-webkit-appearance:none}.loginItem input[data-v-ced9e36e]:focus{outline:none}.loginIcon[data-v-ced9e36e]{background-color:#363b41;border-radius:3px 0 0 3px;border-right:3px solid #434a52;color:#606468;display:block;float:left;line-height:50px;text-align:center;height:50px;width:20%}.btn-wrap[data-v-ced9e36e]{display:-webkit-box;display:flex}.loginBtn[data-v-ced9e36e]{background:#b5cd60;border:0;width:100%;height:40px;border-radius:3px;color:#fff;cursor:pointer;-webkit-transition:background .3s ease-in-out;transition:background .3s ease-in-out}.loginBtn[data-v-ced9e36e]:hover{background:#16aa56}.signupBtn[data-v-ced9e36e]{background:#b5cd60;border:0;width:50px;height:40px;padding-left:10px;border-radius:3px;color:#fff;cursor:pointer;-webkit-transition:background .3s ease-in-out;transition:background .3s ease-in-out}.signupBtn[data-v-ced9e36e]:hover{background:#16aa56}.errorText[data-v-ced9e36e]{color:#fff;height:30px;padding-left:10px;padding-top:5px}",""]),e.exports=t},310:function(e,t,o){"use strict";o.r(t);o(6),o(4),o(2),o(1),o(5),o(10);var n=o(0),r=o(38);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}var d={layout:"wrap",data:function(){return{active:"player",gameID:"",account:"",password:"",errormessage:"",adminKey:"",disabledAvtive:!1}},watch:{active:function(){this.gameID="",this.account="",this.password="",this.errormessage="",this.adminKey=""}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({loginInMission:function(){"player"==this.active?this.loginByPlayer():this.loginByAdmin()},loginByAdmin:function(){var e=this;this.disabledAvtive=!0,this.errormessage="",this.$axios.post("".concat("https://tmsys2020api.herokuapp.com","/admin/login"),{email:this.account,password:this.password}).then((function(t){if(console.log(t),"success"==t.data.message){var o=t.data;e.signIn(o),e.setSessionStorage(o),e.$router.push({name:"admin"})}else e.errormessage=t.data.message,e.disabledAvtive=!1})).catch((function(t){alert("發生錯誤，請稍後再試！"),e.disabledAvtive=!1}))},goSignupPage:function(){this.$router.push({name:"AddAdminID"})},createConnectNumbering:function(){for(var e=Math.floor(9999999*Math.random()+1),t="",o="abcdefghijklmnopqrstuvwxyz",i=0;i<3;i++)t+=o.charAt(Math.floor(Math.random()*o.length));return t+e},loginByPlayer:function(){var e=this;this.disabledAvtive=!0,null==localStorage.getItem("connectNumbering")&&localStorage.setItem("connectNumbering",JSON.stringify(this.createConnectNumbering()));var t=localStorage.getItem("connectNumbering");this.$axios.post("".concat("https://tmsys2020api.herokuapp.com","/player/getAdminKey"),{adminKey:this.adminKey,gameID:this.gameID,gamePassword:this.password,connectNumbering:t}).then((function(t){if("NoKey"==t.data.status)return e.errormessage=t.data.message,void(e.disabledAvtive=!1);if("NoID"==t.data.status)return e.errormessage=t.data.message,void(e.disabledAvtive=!1);if("NoPassword"==t.data.status)return e.errormessage=t.data.message,void(e.disabledAvtive=!1);if("taskIsOutLine"==t.data.status)return e.errormessage=t.data.message,void(e.disabledAvtive=!1);if("ConnectQuantityOver"==t.data.status)return e.errormessage=t.data.message,void(e.disabledAvtive=!1);if("error"==t.data.status)return e.errormessage=t.data.message,void(e.disabledAvtive=!1);var o=t.data.missionIntroduction.taskID,n=JSON.parse(localStorage.getItem("taskID"));o!==n&&null!==n&&e.resetTheMission(),localStorage.setItem("taskVersion",JSON.stringify(t.data.taskVersion)),localStorage.setItem("adminUid",JSON.stringify(t.data.adminUid)),localStorage.setItem("taskID",JSON.stringify(t.data.missionIntroduction.taskID)),e.setMissionIntroduction(t.data.missionIntroduction),e.setSystemSetting(t.data.systemSetting),e.setVlueData(t.data.clue),e.setMissionIntroductionLocal(t.data.missionIntroduction),e.setSystemSetLocal(t.data.systemSetting),e.setLocaData(),e.$router.replace({name:"main-MissionIntroduction"}),e.fullScree()})).catch((function(t){e.errormessage="出現錯誤，請稍後再嘗試",e.disabledAvtive=!1}))},fullScree:function(){var e=document.querySelector("body");e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}},Object(r.c)({signIn:"adminUser/signIn",setSessionStorage:"adminUser/setSessionStorage"}),{},Object(r.c)(["indexInPagination","setMissionIntroduction","setSystemSetting","setVlueData","setLocaData","setMissionIntroductionLocal","setSystemSetLocal"]),{},Object(r.c)(["resetTheMission"])),mounted:function(){this.indexInPagination()}},l=(o(295),o(26)),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mission-wrap"},[o("div",{attrs:{id:"login"}},[o("div",{staticClass:"login-group"},[o("div",{staticClass:"rolesList"},[o("div",{staticClass:"rolesItem playerStyle",class:{"choses-active":"player"==e.active}},[o("label",{staticClass:"chosesRoles",attrs:{for:"player"}},[o("fa",{attrs:{icon:["fa","gamepad"]}})],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"radio",name:"roles",id:"player",value:"player",hidden:""},domProps:{checked:e._q(e.active,"player")},on:{change:function(t){e.active="player"}}})]),e._v(" "),o("div",{staticClass:"rolesItem adminStyle",class:{"choses-active":"admin"==e.active}},[o("label",{staticClass:"chosesRoles",attrs:{for:"admin"}},[o("fa",{attrs:{icon:["fa","tools"]}})],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"radio",name:"roles",id:"admin",value:"admin",hidden:""},domProps:{checked:e._q(e.active,"admin")},on:{change:function(t){e.active="admin"}}})])]),e._v(" "),"player"==e.active?o("div",{staticClass:"loginItem"},[o("span",{staticClass:"loginIcon"},[o("fa",{attrs:{icon:["fas","key"]}})],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.adminKey,expression:"adminKey"}],staticClass:"loginInput",attrs:{type:"text",placeholder:"key"},domProps:{value:e.adminKey},on:{input:function(t){t.target.composing||(e.adminKey=t.target.value)}}})]):e._e(),e._v(" "),"player"==e.active?o("div",{staticClass:"loginItem"},[o("span",{staticClass:"loginIcon"},[o("fa",{attrs:{icon:["fas","dragon"]}})],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.gameID,expression:"gameID"}],staticClass:"loginInput",attrs:{type:"text",placeholder:"Game ID"},domProps:{value:e.gameID},on:{input:function(t){t.target.composing||(e.gameID=t.target.value)}}})]):e._e(),e._v(" "),"admin"==e.active?o("div",{staticClass:"loginItem"},[o("span",{staticClass:"loginIcon"},[o("fa",{attrs:{icon:["fas","envelope"]}})],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],staticClass:"loginInput",attrs:{type:"text",placeholder:"e-mail"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}})]):e._e(),e._v(" "),o("div",{staticClass:"loginItem"},[o("span",{staticClass:"loginIcon"},[o("fa",{attrs:{icon:["fas","lock"]}})],1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"loginInput",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"btn-wrap"},[o("button",{staticClass:"loginBtn",attrs:{disabled:e.disabledAvtive},on:{click:e.loginInMission}},[e.disabledAvtive?o("div",{staticClass:"spinner-border spinner-border-sm text-light",attrs:{role:"status"}},[o("span",{staticClass:"sr-only"},[e._v("Loading...")])]):o("span",[e._v("Login")])]),e._v(" "),"admin"==e.active?o("button",{staticClass:"signupBtn ml-2",on:{click:e.goSignupPage}},[o("fa",{attrs:{icon:["fas","user-plus"]}})],1):e._e()])]),e._v(" "),o("div",{staticClass:"errorText"},[e._v(e._s(e.errormessage))])])])}),[],!1,null,"ced9e36e",null);t.default=component.exports}}]);