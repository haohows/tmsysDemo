(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{239:function(t,e,o){var content=o(292);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(37).default)("205624ee",content,!0,{sourceMap:!1})},240:function(t,e,o){var content=o(294);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(37).default)("403d794e",content,!0,{sourceMap:!1})},291:function(t,e,o){"use strict";var n=o(239);o.n(n).a},292:function(t,e,o){(e=o(36)(!1)).push([t.i,'.scoreBox[data-v-b596b690]{font-size:12px;height:20px;line-height:20px;width:40px;text-align:right;color:#fff;padding-right:5px;z-index:3;-webkit-transform:rotate(30deg);transform:rotate(30deg)}.scorebg[data-v-b596b690],.scoreBox[data-v-b596b690]{position:absolute;top:0;right:0}.scorebg[data-v-b596b690]{border-radius:0 3px 0 0;width:0;height:0;border-color:orange orange transparent transparent;border-style:solid;border-width:18px 31px}.listFontSize[data-v-b596b690]{font-size:15px}.omitted[data-v-b596b690]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.rewardItem[data-v-b596b690]{background-color:rgba(203,207,211,.76078);padding:2px 5px;border:1px solid #c2c7cc;border-radius:5px;font-size:12px;display:inline-block}.preIconMarginValue[data-v-b596b690]{margin-right:37px}.pstStatic[data-v-b596b690]{position:static}.cluePreview[data-v-b596b690]{cursor:help}.cluePreview[data-v-b596b690]:before{content:"";opacity:0;-webkit-transition:opacity .8s;transition:opacity .8s}.cluePreview[data-v-b596b690]:hover:before{position:absolute;content:"";top:0;right:0;width:50%;height:100%;background-color:#000;background-image:var(--clueImg);background-position:50%;background-size:contain;background-repeat:no-repeat;border-radius:0 3px 3px 0;z-index:5;opacity:.75}.iconPreview[data-v-b596b690]{cursor:help}.iconPreview[data-v-b596b690]:before{content:"";opacity:0;-webkit-transition:opacity .8s;transition:opacity .8s}.iconPreview[data-v-b596b690]:hover:before{position:absolute;content:"";top:0;left:0;width:50%;height:100%;background-color:#000;background-image:var(--iconImg);background-position:50%;background-size:contain;background-repeat:no-repeat;border-radius:0 3px 3px 0;z-index:5;opacity:.75}.propsPreview[data-v-b596b690]{cursor:help}.propsPreview[data-v-b596b690]:before{content:"";opacity:0;-webkit-transition:opacity .8s;transition:opacity .8s}.propsPreview[data-v-b596b690]:hover:before{position:absolute;content:"";top:0;left:0;width:50%;height:100%;background-color:#000;background-image:var(--propsImg);background-position:50%;background-size:contain;background-repeat:no-repeat;border-radius:0 3px 3px 0;z-index:5;opacity:.75}',""]),t.exports=e},293:function(t,e,o){"use strict";var n=o(240);o.n(n).a},294:function(t,e,o){(e=o(36)(!1)).push([t.i,".wrap[data-v-3a2f8f01]{width:calc(100vw - 300px);padding:15px;height:calc(100vh - 120px);overflow:auto}.wrap[data-v-3a2f8f01]::-webkit-scrollbar{display:none}h3[data-v-3a2f8f01]{border-bottom:2px solid #c4c3c3;padding-bottom:10px;margin-bottom:20px}.cursorDefault[data-v-3a2f8f01]{cursor:default}.cartStyle[data-v-3a2f8f01]{margin-right:12px;margin-bottom:20px;width:270px;display:inline-block}.card[data-v-3a2f8f01]{position:relative}",""]),t.exports=e},302:function(t,e,o){"use strict";o.r(e);o(2),o(1),o(5),o(9),o(38);var n={props:["item","taskID"],methods:{clueImg:function(t){return"url(".concat(t.eventContent.clueImg,")")},iconImg:function(t){return"url(".concat(t.eventContent.propsIcon,")")},propsImg:function(t){return"url(".concat(t.eventContent.propsImg,")")},removeEvent:function(t){var e=this;this.$axios.post("".concat("https://tmsys2020api.herokuapp.com","/event/removeEvent"),{uid:sessionStorage.getItem("adminUid"),eventID:Number(t.id),taskID:this.taskID}).then((function(t){"success"==t.data.message?(e.$emit("updata"),alert("事件已刪除！")):alert(t.message)})).catch((function(t){alert("事件刪除失敗，請稍後嘗試！")}))}}},r=(o(291),o(26)),c=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"card-header"},[o("div",[t._v(t._s(t.item.eventContent.name))]),t._v(" "),o("div",{staticClass:"ml-auto scoreBox"},[t._v(t._s(t.item.eventContent.score))]),t._v(" "),o("div",{staticClass:"scorebg"})]),t._v(" "),o("div",{staticClass:"card-body text-dark p-3"},[o("ul",{staticClass:"list-group list-group-flush listFontSize"},[o("li",{staticClass:"list-group-item d-flex pstStatic p-2"},[o("div",{staticClass:"preIconMarginValue"},[o("span",{staticClass:"pr-1"},[t._v("線索：")]),t._v(" "),o("span",{staticClass:"rewardItem cluePreview",style:{"--clueImg":t.clueImg(t.item)}},[o("fa",{attrs:{icon:["fas","search"]}})],1)]),t._v(" "),o("div",[o("span",{staticClass:"pr-1"},[t._v("收穫：")]),t._v(" "),"notHave"!==t.item.eventContent.propsType?o("span",{staticClass:"rewardItem iconPreview",style:{"--iconImg":t.iconImg(t.item)},attrs:{title:"圖示"}},[o("fa",{attrs:{icon:["fas","paw"]}})],1):t._e(),t._v(" "),"propsImg"==t.item.eventContent.propsType?o("span",{staticClass:"rewardItem propsPreview",style:{"--propsImg":t.propsImg(t.item)},attrs:{title:"圖檔"}},[o("fa",{attrs:{icon:["fas","box"]}})],1):t._e(),t._v(" "),"notHave"==t.item.eventContent.propsType?o("span",{attrs:{title:"無收穫"}},[o("fa",{attrs:{icon:["fas","times"]}})],1):t._e()])]),t._v(" "),o("li",{staticClass:"list-group-item p-2 omitted"},[o("span",{staticClass:"pr-1"},[t._v("答案：")]),t._v(" "),o("span",{attrs:{title:t.item.eventContent.answer}},[t._v("\n          "+t._s(t.item.eventContent.answer)+"\n        ")])])])]),t._v(" "),o("div",{staticClass:"card-footer d-flex justify-content-end"},[o("button",{staticClass:"btn btn-outline-dark btn-sm",attrs:{type:"button",title:"刪除"},on:{click:function(e){return t.removeEvent(t.item)}}},[o("fa",{attrs:{icon:["fas","trash-alt"]}})],1)])])}),[],!1,null,"b596b690",null).exports,d=(o(218),{layout:"layoutAdmin",middleware:"checkTaskIsOnline",components:{eventCart:c},data:function(){return{eventData:{},eventID:"",taskMissionIntroduction:{},taskSystemSetting:{},taskID:""}},computed:{propsText:function(){return this.taskSystemSetting.propsSys?"道具系統":"無掛載系統"},eventLength:function(){return Object.keys(this.eventData).length}},methods:{goToCreateEvent:function(){this.eventData.length>=10?alert("每個帳號最多只能創建10個事件唷！"):this.$router.push({name:"admin-MgtEvent-CreateEvent-id",params:{id:this.taskMissionIntroduction.taskID}})},getTaskData:function(){var t=this;this.$axios.post("".concat("https://tmsys2020api.herokuapp.com","/task/getTaskData"),{uid:sessionStorage.getItem("adminUid")}).then((function(e){var o=t.$route.params.MgtEvent;return e.data[o]})).then((function(e){void 0!==e.clue?t.eventData=e.clue:t.eventData="",void 0!==e.id&&(t.eventID=e.id),t.taskMissionIntroduction=e.missionIntroduction,t.taskSystemSetting=e.systemSetting,t.taskID=e.missionIntroduction.taskID}))}},mounted:function(){this.getTaskData()}}),l=(o(293),Object(r.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"wrap"},[o("h3",[t._v("事件管理")]),t._v(" "),o("div",{staticClass:"form-group row mb-4"},[o("div",{staticClass:"col-2 col-form-label"},[t._v("任務項目")]),t._v(" "),o("div",{staticClass:"col-10"},[o("div",{staticClass:"btn btn-dark cursorDefault mr-2"},[o("fa",{attrs:{icon:["fas","flag"]}}),t._v(" "),o("span",[t._v("："+t._s(t.taskMissionIntroduction.titleText))])],1),t._v(" "),o("div",{staticClass:"btn btn-dark cursorDefault mr-2"},[o("fa",{attrs:{icon:["fas","network-wired"]}}),t._v(" "),o("span",[t._v("："+t._s(t.propsText))])],1),t._v(" "),o("div",{staticClass:"btn btn-dark cursorDefault mr-2"},[o("fa",{attrs:{icon:["fas","file-signature"]}}),t._v(" "),o("span",[t._v("："+t._s(t.eventLength))])],1),t._v(" "),o("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:t.goToCreateEvent}},[t._v("新增事件")])])]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-2 col-form-label"},[t._v("事件卡片")]),t._v(" "),o("div",{staticClass:"col-10"},[0==t.eventLength?o("div",{staticClass:"eventEmpty"},[o("div",{staticStyle:{padding:"7px 0"}},[t._v("本任務目前還沒有事件...")])]):t._l(t.eventData,(function(e,n){return o("eventCart",{key:n,staticClass:"card border-dark cartStyle shadow",attrs:{item:e,taskID:t.taskID},on:{updata:t.getTaskData}})}))],2)])])}),[],!1,null,"3a2f8f01",null));e.default=l.exports}}]);